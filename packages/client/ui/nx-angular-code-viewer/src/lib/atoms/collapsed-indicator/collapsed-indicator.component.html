<div
  class="collapsed-indicator"
  [class]="theme()"
  [class.expanded]="isExpanded()"
  role="button"
  tabindex="0"
  [attr.aria-expanded]="isExpanded()"
  [attr.aria-label]="ariaLabel()"
  (click)="onToggle()"
  (keydown)="onKeydown($event)">
  <!-- Expand/collapse icon in line number area -->
  <span class="expand-icon">
    @if (isExpanded()) {
      <!-- Chevron down icon -->
      <svg
        viewBox="0 0 16 16"
        width="12"
        height="12"
        fill="none"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round">
        <path d="M4 6l4 4 4-4" />
      </svg>
    } @else {
      <!-- Chevron right icon -->
      <svg
        viewBox="0 0 16 16"
        width="12"
        height="12"
        fill="none"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round">
        <path d="M6 4l4 4-4 4" />
      </svg>
    }
  </span>

  <!-- Ellipsis and line count -->
  <span class="collapse-text"> ... {{ displayText() }} </span>
</div>

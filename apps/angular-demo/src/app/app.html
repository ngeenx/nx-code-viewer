<div
  class="demo-container"
  [class.dark]="theme() === 'dark'"
  [class.light]="theme() === 'light'">
  <header class="demo-header">
    <h1>Code Viewer Demo</h1>
    <button class="theme-toggle" (click)="toggleTheme()">
      {{ theme() === 'dark' ? '‚òÄÔ∏è Light' : 'üåô Dark' }}
    </button>
  </header>

  <main class="demo-content">
    @for (example of examples; track example.title) {
      <section class="example-section">
        <nx-code-viewer
          [code]="example.code"
          [language]="example.language"
          [theme]="theme()"
          [title]="example.title"
          [fileExtension]="example.fileExtension ?? ''"
          [showLineNumbers]="true"
          [showCopyButton]="true"
          [showHeader]="true"
          (codeCopied)="onCodeCopied(example.title)" />
      </section>
    }

    <section class="example-section">
      <h2>Without Header</h2>
      <nx-code-viewer
        [code]="'const simple = true;'"
        language="typescript"
        [theme]="theme()"
        [showHeader]="false"
        [showLineNumbers]="true" />
    </section>

    <section class="example-section">
      <h2>Without Line Numbers</h2>
      <nx-code-viewer
        code="echo 'Hello, World!'"
        language="bash"
        [theme]="theme()"
        title="Bash"
        [showLineNumbers]="false"
        [showCopyButton]="true" />
    </section>

    <section class="example-section">
      <h2>With Max Height (Scrollable)</h2>
      <nx-code-viewer
        [code]="longCodeExample.code"
        [language]="longCodeExample.language"
        [theme]="theme()"
        [title]="longCodeExample.title"
        [fileExtension]="longCodeExample.fileExtension ?? ''"
        [showLineNumbers]="true"
        maxHeight="300px" />
    </section>

    <section class="example-section">
      <h2>With Word Wrap</h2>
      <nx-code-viewer
        [code]="[
          'This is a very long line of text that should wrap when word wrap is enabled. It contains multiple sentences to demonstrate the wrapping behavior of the code viewer component.',
          'This is another line to show how the wrapping works with multiple lines of content. This is another line to show how the wrapping works with multiple lines of content.',
        ]"
        language="plaintext"
        [theme]="theme()"
        title="Word Wrap Demo"
        [wordWrap]="true" />
    </section>

    <section class="example-section">
      <h2>With Highlighted Lines</h2>
      <p class="example-description">
        Lines 3, 7-9, and 12 are pre-configured to be highlighted
      </p>
      <nx-code-viewer
        [code]="highlightedLinesExample.code"
        [language]="highlightedLinesExample.language"
        [theme]="theme()"
        title="Highlighted Lines Demo"
        fileExtension=".ts"
        [highlightedLines]="highlightedLinesExample.highlightedLines" />
    </section>

    <section class="example-section">
      <h2>Diff Viewer</h2>
      <div class="diff-controls">
        <button class="view-mode-toggle" (click)="toggleDiffViewMode()">
          {{ diffViewMode() === 'unified' ? 'Switch to Split View' : 'Switch to Unified View' }}
        </button>
      </div>
      @for (diffExample of diffExamples; track diffExample.title) {
        <div class="diff-example">
          <h3>{{ diffExample.title }}</h3>
          <nx-diff-viewer
            [oldCode]="diffExample.oldCode"
            [newCode]="diffExample.newCode"
            [theme]="theme()"
            [viewMode]="diffViewMode()"
            [showLineNumbers]="true"
            [showHeader]="true"
            [language]="diffExample.language"
            [fileExtension]="diffExample.fileExtension"
            [oldFileName]="diffExample.oldFileName"
            [newFileName]="diffExample.newFileName" />
        </div>
      }
    </section>
  </main>
</div>
